{% extends "base.html" %} {% block title %} Contact Page {% endblock %} {% block
container %}
<section class="s1">
  <div class="bc">
    <div class="ttl">Podcasts</div>
    <div class="cards">
      {% for podcast in podcasts %}
      <a
        class="card"
        href="{{ podcast.video_url }}"
        target="_blank"
        rel="noopener noreferrer"
      >
        <h2>{{ podcast.title }}</h2>
        <img
          src="{{ url_for('static', filename='images/' ~ podcast.image) }}"
          alt="{{ podcast.title }}"
          loading="lazy"
        />
        <p>{{ podcast.description }}</p>
        {% if user_role == 'admin' %}
        <form
          action="{{ url_for('delete_podcast', podcast_id=podcast.id) }}"
          method="POST"
          style="display: inline"
        >
          <button
            type="submit"
            onclick="return confirm('Are you sure you want to delete this podcast?')"
          >
            DELETE
          </button>
        </form>
        {% endif %} {% else %}
        <p>No podcasts available yet.</p>
        {% endfor %}
      </a>
    </div>

    {% if session.get('username') %}
    <div class="upload-box">
      <form method="POST" enctype="multipart/form-data" class="upload-form">
        <h2>Add Your Favorite Podcast!</h2>
        {{ form.csrf_token }} {{ form.title(placeholder="Podcast Title") }} {{
        form.description(placeholder="Podcast Description") }} {{
        form.video_url(placeholder="Video URL") }} {{ form.image() }}
        <button type="submit">SUBMIT</button>
      </form>

      {% if form.errors %}
      <ul class="errors">
        {% for field, errors in form.errors.items() %} {% for error in errors %}
        <li>{{ error }}</li>
        {% endfor %} {% endfor %}
      </ul>
      {% endif %}
    </div>
    {% endif %}
  </div>
</section>
{% endblock %}
